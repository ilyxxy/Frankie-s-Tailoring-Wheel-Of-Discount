<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Wheel of Names ðŸŽ¡</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1>ðŸŽ¡ Wheel of Names ðŸŽ¡</h1>

  <div class="wheel-container">
    <canvas id="wheel" width="500" height="500"></canvas>
    <button id="spinBtn">SPIN</button>
  </div>

  <div id="winnerPopup" class="hidden">
    <h2>ðŸŽ‰ Congrats, <span id="winnerName"></span>! ðŸŽ‰</h2>
    <button id="restartBtn">Spin Again</button>
  </div>

  <script src="script.js"></script>
</body>
</html>

/* ----- style.css ----- */
body {
  text-align: center;
  font-family: Arial, sans-serif;
  background: linear-gradient(135deg, #f7d9ff, #c6f0ff);
}

h1 {
  margin-top: 30px;
}

.wheel-container {
  margin: 20px auto;
  position: relative;
  width: 500px;
}

#spinBtn {
  margin-top: 20px;
  padding: 10px 20px;
  font-size: 18px;
  cursor: pointer;
}

#winnerPopup {
  margin-top: 30px;
}

.hidden {
  display: none;
}

/* ----- script.js ----- */
const names = ["Liz", "Mark", "Jisoo", "Taeyong", "Chenle", "Nina", "Lucas"];
const wheel = document.getElementById("wheel");
const ctx = wheel.getContext("2d");
const spinBtn = document.getElementById("spinBtn");
const winnerPopup = document.getElementById("winnerPopup");
const winnerName = document.getElementById("winnerName");
const restartBtn = document.getElementById("restartBtn");

const colors = ["#FF6B6B", "#FFD93D", "#6BCB77", "#4D96FF", "#D67BFF", "#FFA07A", "#FF69B4"];
const sliceAngle = (2 * Math.PI) / names.length;
let angle = 0;
let spinning = false;

function drawWheel() {
  for (let i = 0; i < names.length; i++) {
    ctx.beginPath();
    ctx.fillStyle = colors[i % colors.length];
    ctx.moveTo(250, 250);
    ctx.arc(250, 250, 250, i * sliceAngle, (i + 1) * sliceAngle);
    ctx.fill();

    ctx.save();
    ctx.translate(250, 250);
    ctx.rotate(i * sliceAngle + sliceAngle / 2);
    ctx.textAlign = "right";
    ctx.fillStyle = "#fff";
    ctx.font = "20px Arial";
    ctx.fillText(names[i], 220, 10);
    ctx.restore();
  }
}

drawWheel();

spinBtn.addEventListener("click", () => {
  if (spinning) return;
  spinning = true;

  let spinAngle = Math.random() * 2000 + 2000; // Random big spin
  let currentAngle = 0;

  const spinInterval = setInterval(() => {
    currentAngle += 20;
    angle += (20 * Math.PI) / 180;
    ctx.clearRect(0, 0, 500, 500);
    ctx.save();
    ctx.translate(250, 250);
    ctx.rotate(angle);
    ctx.translate(-250, -250);
    drawWheel();
    ctx.restore();

    if (currentAngle >= spinAngle) {
      clearInterval(spinInterval);
      showWinner();
      spinning = false;
    }
  }, 20);
});

function showWinner() {
  let winningIndex = Math.floor(((2 * Math.PI - (angle % (2 * Math.PI))) % (2 * Math.PI)) / sliceAngle);
  winnerName.textContent = names[winningIndex];
  winnerPopup.classList.remove("hidden");
}

restartBtn.addEventListener("click", () => {
  winnerPopup.classList.add("hidden");
});
